{"ast":null,"code":"/*! @license ScrollReveal v4.0.7\n\n\tCopyright 2020 Fisssion LLC.\n\n\tLicensed under the GNU General Public License 3.0 for\n\tcompatible open source projects and non-commercial use.\n\n\tFor commercial sites, themes, projects, and applications,\n\tkeep your source code private/proprietary by purchasing\n\ta commercial license from https://scrollrevealjs.org/\n*/\nimport $ from 'tealight';\nimport { translateY, translateX, rotateX, rotateY, rotateZ, scale, parse, multiply } from 'rematrix';\nimport raf from 'miniraf';\nvar defaults = {\n  delay: 0,\n  distance: '0',\n  duration: 600,\n  easing: 'cubic-bezier(0.5, 0, 0, 1)',\n  interval: 0,\n  opacity: 0,\n  origin: 'bottom',\n  rotate: {\n    x: 0,\n    y: 0,\n    z: 0\n  },\n  scale: 1,\n  cleanup: false,\n  container: document.documentElement,\n  desktop: true,\n  mobile: true,\n  reset: false,\n  useDelay: 'always',\n  viewFactor: 0.0,\n  viewOffset: {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  },\n  afterReset: function afterReset() {},\n  afterReveal: function afterReveal() {},\n  beforeReset: function beforeReset() {},\n  beforeReveal: function beforeReveal() {}\n};\n\nfunction failure() {\n  document.documentElement.classList.remove('sr');\n  return {\n    clean: function clean() {},\n    destroy: function destroy() {},\n    reveal: function reveal() {},\n    sync: function sync() {},\n\n    get noop() {\n      return true;\n    }\n\n  };\n}\n\nfunction success() {\n  document.documentElement.classList.add('sr');\n\n  if (document.body) {\n    document.body.style.height = '100%';\n  } else {\n    document.addEventListener('DOMContentLoaded', function () {\n      document.body.style.height = '100%';\n    });\n  }\n}\n\nvar mount = {\n  success: success,\n  failure: failure\n};\n\nfunction isObject(x) {\n  return x !== null && x instanceof Object && (x.constructor === Object || Object.prototype.toString.call(x) === '[object Object]');\n}\n\nfunction each(collection, callback) {\n  if (isObject(collection)) {\n    var keys = Object.keys(collection);\n    return keys.forEach(function (key) {\n      return callback(collection[key], key, collection);\n    });\n  }\n\n  if (collection instanceof Array) {\n    return collection.forEach(function (item, i) {\n      return callback(item, i, collection);\n    });\n  }\n\n  throw new TypeError('Expected either an array or object literal.');\n}\n\nfunction logger(message) {\n  var details = [],\n      len = arguments.length - 1;\n\n  while (len-- > 0) details[len] = arguments[len + 1];\n\n  if (this.constructor.debug && console) {\n    var report = \"%cScrollReveal: \" + message;\n    details.forEach(function (detail) {\n      return report += \"\\n — \" + detail;\n    });\n    console.log(report, 'color: #ea654b;'); // eslint-disable-line no-console\n  }\n}\n\nfunction rinse() {\n  var this$1 = this;\n\n  var struct = function () {\n    return {\n      active: [],\n      stale: []\n    };\n  };\n\n  var elementIds = struct();\n  var sequenceIds = struct();\n  var containerIds = struct();\n  /**\n   * Take stock of active element IDs.\n   */\n\n  try {\n    each($('[data-sr-id]'), function (node) {\n      var id = parseInt(node.getAttribute('data-sr-id'));\n      elementIds.active.push(id);\n    });\n  } catch (e) {\n    throw e;\n  }\n  /**\n   * Destroy stale elements.\n   */\n\n\n  each(this.store.elements, function (element) {\n    if (elementIds.active.indexOf(element.id) === -1) {\n      elementIds.stale.push(element.id);\n    }\n  });\n  each(elementIds.stale, function (staleId) {\n    return delete this$1.store.elements[staleId];\n  });\n  /**\n   * Take stock of active container and sequence IDs.\n   */\n\n  each(this.store.elements, function (element) {\n    if (containerIds.active.indexOf(element.containerId) === -1) {\n      containerIds.active.push(element.containerId);\n    }\n\n    if (element.hasOwnProperty('sequence')) {\n      if (sequenceIds.active.indexOf(element.sequence.id) === -1) {\n        sequenceIds.active.push(element.sequence.id);\n      }\n    }\n  });\n  /**\n   * Destroy stale containers.\n   */\n\n  each(this.store.containers, function (container) {\n    if (containerIds.active.indexOf(container.id) === -1) {\n      containerIds.stale.push(container.id);\n    }\n  });\n  each(containerIds.stale, function (staleId) {\n    var stale = this$1.store.containers[staleId].node;\n    stale.removeEventListener('scroll', this$1.delegate);\n    stale.removeEventListener('resize', this$1.delegate);\n    delete this$1.store.containers[staleId];\n  });\n  /**\n   * Destroy stale sequences.\n   */\n\n  each(this.store.sequences, function (sequence) {\n    if (sequenceIds.active.indexOf(sequence.id) === -1) {\n      sequenceIds.stale.push(sequence.id);\n    }\n  });\n  each(sequenceIds.stale, function (staleId) {\n    return delete this$1.store.sequences[staleId];\n  });\n}\n\nfunction clean(target) {\n  var this$1 = this;\n  var dirty;\n\n  try {\n    each($(target), function (node) {\n      var id = node.getAttribute('data-sr-id');\n\n      if (id !== null) {\n        dirty = true;\n        var element = this$1.store.elements[id];\n\n        if (element.callbackTimer) {\n          window.clearTimeout(element.callbackTimer.clock);\n        }\n\n        node.setAttribute('style', element.styles.inline.generated);\n        node.removeAttribute('data-sr-id');\n        delete this$1.store.elements[id];\n      }\n    });\n  } catch (e) {\n    return logger.call(this, 'Clean failed.', e.message);\n  }\n\n  if (dirty) {\n    try {\n      rinse.call(this);\n    } catch (e) {\n      return logger.call(this, 'Clean failed.', e.message);\n    }\n  }\n}\n\nfunction destroy() {\n  var this$1 = this;\n  /**\n   * Remove all generated styles and element ids\n   */\n\n  each(this.store.elements, function (element) {\n    element.node.setAttribute('style', element.styles.inline.generated);\n    element.node.removeAttribute('data-sr-id');\n  });\n  /**\n   * Remove all event listeners.\n   */\n\n  each(this.store.containers, function (container) {\n    var target = container.node === document.documentElement ? window : container.node;\n    target.removeEventListener('scroll', this$1.delegate);\n    target.removeEventListener('resize', this$1.delegate);\n  });\n  /**\n   * Clear all data from the store\n   */\n\n  this.store = {\n    containers: {},\n    elements: {},\n    history: [],\n    sequences: {}\n  };\n}\n\nvar getPrefixedCssProp = function () {\n  var properties = {};\n  var style = document.documentElement.style;\n\n  function getPrefixedCssProperty(name, source) {\n    if (source === void 0) source = style;\n\n    if (name && typeof name === 'string') {\n      if (properties[name]) {\n        return properties[name];\n      }\n\n      if (typeof source[name] === 'string') {\n        return properties[name] = name;\n      }\n\n      if (typeof source[\"-webkit-\" + name] === 'string') {\n        return properties[name] = \"-webkit-\" + name;\n      }\n\n      throw new RangeError(\"Unable to find \\\"\" + name + \"\\\" style property.\");\n    }\n\n    throw new TypeError('Expected a string.');\n  }\n\n  getPrefixedCssProperty.clearCache = function () {\n    return properties = {};\n  };\n\n  return getPrefixedCssProperty;\n}();\n\nfunction style(element) {\n  var computed = window.getComputedStyle(element.node);\n  var position = computed.position;\n  var config = element.config;\n  /**\n   * Generate inline styles\n   */\n\n  var inline = {};\n  var inlineStyle = element.node.getAttribute('style') || '';\n  var inlineMatch = inlineStyle.match(/[\\w-]+\\s*:\\s*[^;]+\\s*/gi) || [];\n  inline.computed = inlineMatch ? inlineMatch.map(function (m) {\n    return m.trim();\n  }).join('; ') + ';' : '';\n  inline.generated = inlineMatch.some(function (m) {\n    return m.match(/visibility\\s?:\\s?visible/i);\n  }) ? inline.computed : inlineMatch.concat(['visibility: visible']).map(function (m) {\n    return m.trim();\n  }).join('; ') + ';';\n  /**\n   * Generate opacity styles\n   */\n\n  var computedOpacity = parseFloat(computed.opacity);\n  var configOpacity = !isNaN(parseFloat(config.opacity)) ? parseFloat(config.opacity) : parseFloat(computed.opacity);\n  var opacity = {\n    computed: computedOpacity !== configOpacity ? \"opacity: \" + computedOpacity + \";\" : '',\n    generated: computedOpacity !== configOpacity ? \"opacity: \" + configOpacity + \";\" : ''\n  };\n  /**\n   * Generate transformation styles\n   */\n\n  var transformations = [];\n\n  if (parseFloat(config.distance)) {\n    var axis = config.origin === 'top' || config.origin === 'bottom' ? 'Y' : 'X';\n    /**\n     * Let’s make sure our our pixel distances are negative for top and left.\n     * e.g. { origin: 'top', distance: '25px' } starts at `top: -25px` in CSS.\n     */\n\n    var distance = config.distance;\n\n    if (config.origin === 'top' || config.origin === 'left') {\n      distance = /^-/.test(distance) ? distance.substr(1) : \"-\" + distance;\n    }\n\n    var ref = distance.match(/(^-?\\d+\\.?\\d?)|(em$|px$|%$)/g);\n    var value = ref[0];\n    var unit = ref[1];\n\n    switch (unit) {\n      case 'em':\n        distance = parseInt(computed.fontSize) * value;\n        break;\n\n      case 'px':\n        distance = value;\n        break;\n\n      case '%':\n        /**\n         * Here we use `getBoundingClientRect` instead of\n         * the existing data attached to `element.geometry`\n         * because only the former includes any transformations\n         * current applied to the element.\n         *\n         * If that behavior ends up being unintuitive, this\n         * logic could instead utilize `element.geometry.height`\n         * and `element.geoemetry.width` for the distance calculation\n         */\n        distance = axis === 'Y' ? element.node.getBoundingClientRect().height * value / 100 : element.node.getBoundingClientRect().width * value / 100;\n        break;\n\n      default:\n        throw new RangeError('Unrecognized or missing distance unit.');\n    }\n\n    if (axis === 'Y') {\n      transformations.push(translateY(distance));\n    } else {\n      transformations.push(translateX(distance));\n    }\n  }\n\n  if (config.rotate.x) {\n    transformations.push(rotateX(config.rotate.x));\n  }\n\n  if (config.rotate.y) {\n    transformations.push(rotateY(config.rotate.y));\n  }\n\n  if (config.rotate.z) {\n    transformations.push(rotateZ(config.rotate.z));\n  }\n\n  if (config.scale !== 1) {\n    if (config.scale === 0) {\n      /**\n       * The CSS Transforms matrix interpolation specification\n       * basically disallows transitions of non-invertible\n       * matrixes, which means browsers won't transition\n       * elements with zero scale.\n       *\n       * That’s inconvenient for the API and developer\n       * experience, so we simply nudge their value\n       * slightly above zero; this allows browsers\n       * to transition our element as expected.\n       *\n       * `0.0002` was the smallest number\n       * that performed across browsers.\n       */\n      transformations.push(scale(0.0002));\n    } else {\n      transformations.push(scale(config.scale));\n    }\n  }\n\n  var transform = {};\n\n  if (transformations.length) {\n    transform.property = getPrefixedCssProp('transform');\n    /**\n     * The default computed transform value should be one of:\n     * undefined || 'none' || 'matrix()' || 'matrix3d()'\n     */\n\n    transform.computed = {\n      raw: computed[transform.property],\n      matrix: parse(computed[transform.property])\n    };\n    transformations.unshift(transform.computed.matrix);\n    var product = transformations.reduce(multiply);\n    transform.generated = {\n      initial: transform.property + \": matrix3d(\" + product.join(', ') + \");\",\n      final: transform.property + \": matrix3d(\" + transform.computed.matrix.join(', ') + \");\"\n    };\n  } else {\n    transform.generated = {\n      initial: '',\n      final: ''\n    };\n  }\n  /**\n   * Generate transition styles\n   */\n\n\n  var transition = {};\n\n  if (opacity.generated || transform.generated.initial) {\n    transition.property = getPrefixedCssProp('transition');\n    transition.computed = computed[transition.property];\n    transition.fragments = [];\n    var delay = config.delay;\n    var duration = config.duration;\n    var easing = config.easing;\n\n    if (opacity.generated) {\n      transition.fragments.push({\n        delayed: \"opacity \" + duration / 1000 + \"s \" + easing + \" \" + delay / 1000 + \"s\",\n        instant: \"opacity \" + duration / 1000 + \"s \" + easing + \" 0s\"\n      });\n    }\n\n    if (transform.generated.initial) {\n      transition.fragments.push({\n        delayed: transform.property + \" \" + duration / 1000 + \"s \" + easing + \" \" + delay / 1000 + \"s\",\n        instant: transform.property + \" \" + duration / 1000 + \"s \" + easing + \" 0s\"\n      });\n    }\n    /**\n     * The default computed transition property should be undefined, or one of:\n     * '' || 'none 0s ease 0s' || 'all 0s ease 0s' || 'all 0s 0s cubic-bezier()'\n     */\n\n\n    var hasCustomTransition = transition.computed && !transition.computed.match(/all 0s|none 0s/);\n\n    if (hasCustomTransition) {\n      transition.fragments.unshift({\n        delayed: transition.computed,\n        instant: transition.computed\n      });\n    }\n\n    var composed = transition.fragments.reduce(function (composition, fragment, i) {\n      composition.delayed += i === 0 ? fragment.delayed : \", \" + fragment.delayed;\n      composition.instant += i === 0 ? fragment.instant : \", \" + fragment.instant;\n      return composition;\n    }, {\n      delayed: '',\n      instant: ''\n    });\n    transition.generated = {\n      delayed: transition.property + \": \" + composed.delayed + \";\",\n      instant: transition.property + \": \" + composed.instant + \";\"\n    };\n  } else {\n    transition.generated = {\n      delayed: '',\n      instant: ''\n    };\n  }\n\n  return {\n    inline: inline,\n    opacity: opacity,\n    position: position,\n    transform: transform,\n    transition: transition\n  };\n}\n\nfunction animate(element, force) {\n  if (force === void 0) force = {};\n  var pristine = force.pristine || this.pristine;\n  var delayed = element.config.useDelay === 'always' || element.config.useDelay === 'onload' && pristine || element.config.useDelay === 'once' && !element.seen;\n  var shouldReveal = element.visible && !element.revealed;\n  var shouldReset = !element.visible && element.revealed && element.config.reset;\n\n  if (force.reveal || shouldReveal) {\n    return triggerReveal.call(this, element, delayed);\n  }\n\n  if (force.reset || shouldReset) {\n    return triggerReset.call(this, element);\n  }\n}\n\nfunction triggerReveal(element, delayed) {\n  var styles = [element.styles.inline.generated, element.styles.opacity.computed, element.styles.transform.generated.final];\n\n  if (delayed) {\n    styles.push(element.styles.transition.generated.delayed);\n  } else {\n    styles.push(element.styles.transition.generated.instant);\n  }\n\n  element.revealed = element.seen = true;\n  element.node.setAttribute('style', styles.filter(function (s) {\n    return s !== '';\n  }).join(' '));\n  registerCallbacks.call(this, element, delayed);\n}\n\nfunction triggerReset(element) {\n  var styles = [element.styles.inline.generated, element.styles.opacity.generated, element.styles.transform.generated.initial, element.styles.transition.generated.instant];\n  element.revealed = false;\n  element.node.setAttribute('style', styles.filter(function (s) {\n    return s !== '';\n  }).join(' '));\n  registerCallbacks.call(this, element);\n}\n\nfunction registerCallbacks(element, isDelayed) {\n  var this$1 = this;\n  var duration = isDelayed ? element.config.duration + element.config.delay : element.config.duration;\n  var beforeCallback = element.revealed ? element.config.beforeReveal : element.config.beforeReset;\n  var afterCallback = element.revealed ? element.config.afterReveal : element.config.afterReset;\n  var elapsed = 0;\n\n  if (element.callbackTimer) {\n    elapsed = Date.now() - element.callbackTimer.start;\n    window.clearTimeout(element.callbackTimer.clock);\n  }\n\n  beforeCallback(element.node);\n  element.callbackTimer = {\n    start: Date.now(),\n    clock: window.setTimeout(function () {\n      afterCallback(element.node);\n      element.callbackTimer = null;\n\n      if (element.revealed && !element.config.reset && element.config.cleanup) {\n        clean.call(this$1, element.node);\n      }\n    }, duration - elapsed)\n  };\n}\n\nvar nextUniqueId = function () {\n  var uid = 0;\n  return function () {\n    return uid++;\n  };\n}();\n\nfunction sequence(element, pristine) {\n  if (pristine === void 0) pristine = this.pristine;\n  /**\n   * We first check if the element should reset.\n   */\n\n  if (!element.visible && element.revealed && element.config.reset) {\n    return animate.call(this, element, {\n      reset: true\n    });\n  }\n\n  var seq = this.store.sequences[element.sequence.id];\n  var i = element.sequence.index;\n\n  if (seq) {\n    var visible = new SequenceModel(seq, 'visible', this.store);\n    var revealed = new SequenceModel(seq, 'revealed', this.store);\n    seq.models = {\n      visible: visible,\n      revealed: revealed\n    };\n    /**\n     * If the sequence has no revealed members,\n     * then we reveal the first visible element\n     * within that sequence.\n     *\n     * The sequence then cues a recursive call\n     * in both directions.\n     */\n\n    if (!revealed.body.length) {\n      var nextId = seq.members[visible.body[0]];\n      var nextElement = this.store.elements[nextId];\n\n      if (nextElement) {\n        cue.call(this, seq, visible.body[0], -1, pristine);\n        cue.call(this, seq, visible.body[0], +1, pristine);\n        return animate.call(this, nextElement, {\n          reveal: true,\n          pristine: pristine\n        });\n      }\n    }\n    /**\n     * If our element isn’t resetting, we check the\n     * element sequence index against the head, and\n     * then the foot of the sequence.\n     */\n\n\n    if (!seq.blocked.head && i === [].concat(revealed.head).pop() && i >= [].concat(visible.body).shift()) {\n      cue.call(this, seq, i, -1, pristine);\n      return animate.call(this, element, {\n        reveal: true,\n        pristine: pristine\n      });\n    }\n\n    if (!seq.blocked.foot && i === [].concat(revealed.foot).shift() && i <= [].concat(visible.body).pop()) {\n      cue.call(this, seq, i, +1, pristine);\n      return animate.call(this, element, {\n        reveal: true,\n        pristine: pristine\n      });\n    }\n  }\n}\n\nfunction Sequence(interval) {\n  var i = Math.abs(interval);\n\n  if (!isNaN(i)) {\n    this.id = nextUniqueId();\n    this.interval = Math.max(i, 16);\n    this.members = [];\n    this.models = {};\n    this.blocked = {\n      head: false,\n      foot: false\n    };\n  } else {\n    throw new RangeError('Invalid sequence interval.');\n  }\n}\n\nfunction SequenceModel(seq, prop, store) {\n  var this$1 = this;\n  this.head = [];\n  this.body = [];\n  this.foot = [];\n  each(seq.members, function (id, index) {\n    var element = store.elements[id];\n\n    if (element && element[prop]) {\n      this$1.body.push(index);\n    }\n  });\n\n  if (this.body.length) {\n    each(seq.members, function (id, index) {\n      var element = store.elements[id];\n\n      if (element && !element[prop]) {\n        if (index < this$1.body[0]) {\n          this$1.head.push(index);\n        } else {\n          this$1.foot.push(index);\n        }\n      }\n    });\n  }\n}\n\nfunction cue(seq, i, direction, pristine) {\n  var this$1 = this;\n  var blocked = ['head', null, 'foot'][1 + direction];\n  var nextId = seq.members[i + direction];\n  var nextElement = this.store.elements[nextId];\n  seq.blocked[blocked] = true;\n  setTimeout(function () {\n    seq.blocked[blocked] = false;\n\n    if (nextElement) {\n      sequence.call(this$1, nextElement, pristine);\n    }\n  }, seq.interval);\n}\n\nfunction initialize() {\n  var this$1 = this;\n  rinse.call(this);\n  each(this.store.elements, function (element) {\n    var styles = [element.styles.inline.generated];\n\n    if (element.visible) {\n      styles.push(element.styles.opacity.computed);\n      styles.push(element.styles.transform.generated.final);\n      element.revealed = true;\n    } else {\n      styles.push(element.styles.opacity.generated);\n      styles.push(element.styles.transform.generated.initial);\n      element.revealed = false;\n    }\n\n    element.node.setAttribute('style', styles.filter(function (s) {\n      return s !== '';\n    }).join(' '));\n  });\n  each(this.store.containers, function (container) {\n    var target = container.node === document.documentElement ? window : container.node;\n    target.addEventListener('scroll', this$1.delegate);\n    target.addEventListener('resize', this$1.delegate);\n  });\n  /**\n   * Manually invoke delegate once to capture\n   * element and container dimensions, container\n   * scroll position, and trigger any valid reveals\n   */\n\n  this.delegate();\n  /**\n   * Wipe any existing `setTimeout` now\n   * that initialization has completed.\n   */\n\n  this.initTimeout = null;\n}\n\nfunction isMobile(agent) {\n  if (agent === void 0) agent = navigator.userAgent;\n  return /Android|iPhone|iPad|iPod/i.test(agent);\n}\n\nfunction deepAssign(target) {\n  var sources = [],\n      len = arguments.length - 1;\n\n  while (len-- > 0) sources[len] = arguments[len + 1];\n\n  if (isObject(target)) {\n    each(sources, function (source) {\n      each(source, function (data, key) {\n        if (isObject(data)) {\n          if (!target[key] || !isObject(target[key])) {\n            target[key] = {};\n          }\n\n          deepAssign(target[key], data);\n        } else {\n          target[key] = data;\n        }\n      });\n    });\n    return target;\n  } else {\n    throw new TypeError('Target must be an object literal.');\n  }\n}\n\nfunction reveal(target, options, syncing) {\n  var this$1 = this;\n  if (options === void 0) options = {};\n  if (syncing === void 0) syncing = false;\n  var containerBuffer = [];\n  var sequence$$1;\n  var interval = options.interval || defaults.interval;\n\n  try {\n    if (interval) {\n      sequence$$1 = new Sequence(interval);\n    }\n\n    var nodes = $(target);\n\n    if (!nodes.length) {\n      throw new Error('Invalid reveal target.');\n    }\n\n    var elements = nodes.reduce(function (elementBuffer, elementNode) {\n      var element = {};\n      var existingId = elementNode.getAttribute('data-sr-id');\n\n      if (existingId) {\n        deepAssign(element, this$1.store.elements[existingId]);\n        /**\n         * In order to prevent previously generated styles\n         * from throwing off the new styles, the style tag\n         * has to be reverted to its pre-reveal state.\n         */\n\n        element.node.setAttribute('style', element.styles.inline.computed);\n      } else {\n        element.id = nextUniqueId();\n        element.node = elementNode;\n        element.seen = false;\n        element.revealed = false;\n        element.visible = false;\n      }\n\n      var config = deepAssign({}, element.config || this$1.defaults, options);\n\n      if (!config.mobile && isMobile() || !config.desktop && !isMobile()) {\n        if (existingId) {\n          clean.call(this$1, element);\n        }\n\n        return elementBuffer; // skip elements that are disabled\n      }\n\n      var containerNode = $(config.container)[0];\n\n      if (!containerNode) {\n        throw new Error('Invalid container.');\n      }\n\n      if (!containerNode.contains(elementNode)) {\n        return elementBuffer; // skip elements found outside the container\n      }\n\n      var containerId;\n      {\n        containerId = getContainerId(containerNode, containerBuffer, this$1.store.containers);\n\n        if (containerId === null) {\n          containerId = nextUniqueId();\n          containerBuffer.push({\n            id: containerId,\n            node: containerNode\n          });\n        }\n      }\n      element.config = config;\n      element.containerId = containerId;\n      element.styles = style(element);\n\n      if (sequence$$1) {\n        element.sequence = {\n          id: sequence$$1.id,\n          index: sequence$$1.members.length\n        };\n        sequence$$1.members.push(element.id);\n      }\n\n      elementBuffer.push(element);\n      return elementBuffer;\n    }, []);\n    /**\n     * Modifying the DOM via setAttribute needs to be handled\n     * separately from reading computed styles in the map above\n     * for the browser to batch DOM changes (limiting reflows)\n     */\n\n    each(elements, function (element) {\n      this$1.store.elements[element.id] = element;\n      element.node.setAttribute('data-sr-id', element.id);\n    });\n  } catch (e) {\n    return logger.call(this, 'Reveal failed.', e.message);\n  }\n  /**\n   * Now that element set-up is complete...\n   * Let’s commit any container and sequence data we have to the store.\n   */\n\n\n  each(containerBuffer, function (container) {\n    this$1.store.containers[container.id] = {\n      id: container.id,\n      node: container.node\n    };\n  });\n\n  if (sequence$$1) {\n    this.store.sequences[sequence$$1.id] = sequence$$1;\n  }\n  /**\n   * If reveal wasn't invoked by sync, we want to\n   * make sure to add this call to the history.\n   */\n\n\n  if (syncing !== true) {\n    this.store.history.push({\n      target: target,\n      options: options\n    });\n    /**\n     * Push initialization to the event queue, giving\n     * multiple reveal calls time to be interpreted.\n     */\n\n    if (this.initTimeout) {\n      window.clearTimeout(this.initTimeout);\n    }\n\n    this.initTimeout = window.setTimeout(initialize.bind(this), 0);\n  }\n}\n\nfunction getContainerId(node) {\n  var collections = [],\n      len = arguments.length - 1;\n\n  while (len-- > 0) collections[len] = arguments[len + 1];\n\n  var id = null;\n  each(collections, function (collection) {\n    each(collection, function (container) {\n      if (id === null && container.node === node) {\n        id = container.id;\n      }\n    });\n  });\n  return id;\n}\n/**\n * Re-runs the reveal method for each record stored in history,\n * for capturing new content asynchronously loaded into the DOM.\n */\n\n\nfunction sync() {\n  var this$1 = this;\n  each(this.store.history, function (record) {\n    reveal.call(this$1, record.target, record.options, true);\n  });\n  initialize.call(this);\n}\n\nvar polyfill = function (x) {\n  return (x > 0) - (x < 0) || +x;\n};\n\nvar mathSign = Math.sign || polyfill;\n\nfunction getGeometry(target, isContainer) {\n  /**\n   * We want to ignore padding and scrollbars for container elements.\n   * More information here: https://goo.gl/vOZpbz\n   */\n  var height = isContainer ? target.node.clientHeight : target.node.offsetHeight;\n  var width = isContainer ? target.node.clientWidth : target.node.offsetWidth;\n  var offsetTop = 0;\n  var offsetLeft = 0;\n  var node = target.node;\n\n  do {\n    if (!isNaN(node.offsetTop)) {\n      offsetTop += node.offsetTop;\n    }\n\n    if (!isNaN(node.offsetLeft)) {\n      offsetLeft += node.offsetLeft;\n    }\n\n    node = node.offsetParent;\n  } while (node);\n\n  return {\n    bounds: {\n      top: offsetTop,\n      right: offsetLeft + width,\n      bottom: offsetTop + height,\n      left: offsetLeft\n    },\n    height: height,\n    width: width\n  };\n}\n\nfunction getScrolled(container) {\n  var top, left;\n\n  if (container.node === document.documentElement) {\n    top = window.pageYOffset;\n    left = window.pageXOffset;\n  } else {\n    top = container.node.scrollTop;\n    left = container.node.scrollLeft;\n  }\n\n  return {\n    top: top,\n    left: left\n  };\n}\n\nfunction isElementVisible(element) {\n  if (element === void 0) element = {};\n  var container = this.store.containers[element.containerId];\n\n  if (!container) {\n    return;\n  }\n\n  var viewFactor = Math.max(0, Math.min(1, element.config.viewFactor));\n  var viewOffset = element.config.viewOffset;\n  var elementBounds = {\n    top: element.geometry.bounds.top + element.geometry.height * viewFactor,\n    right: element.geometry.bounds.right - element.geometry.width * viewFactor,\n    bottom: element.geometry.bounds.bottom - element.geometry.height * viewFactor,\n    left: element.geometry.bounds.left + element.geometry.width * viewFactor\n  };\n  var containerBounds = {\n    top: container.geometry.bounds.top + container.scroll.top + viewOffset.top,\n    right: container.geometry.bounds.right + container.scroll.left - viewOffset.right,\n    bottom: container.geometry.bounds.bottom + container.scroll.top - viewOffset.bottom,\n    left: container.geometry.bounds.left + container.scroll.left + viewOffset.left\n  };\n  return elementBounds.top < containerBounds.bottom && elementBounds.right > containerBounds.left && elementBounds.bottom > containerBounds.top && elementBounds.left < containerBounds.right || element.styles.position === 'fixed';\n}\n\nfunction delegate(event, elements) {\n  var this$1 = this;\n  if (event === void 0) event = {\n    type: 'init'\n  };\n  if (elements === void 0) elements = this.store.elements;\n  raf(function () {\n    var stale = event.type === 'init' || event.type === 'resize';\n    each(this$1.store.containers, function (container) {\n      if (stale) {\n        container.geometry = getGeometry.call(this$1, container, true);\n      }\n\n      var scroll = getScrolled.call(this$1, container);\n\n      if (container.scroll) {\n        container.direction = {\n          x: mathSign(scroll.left - container.scroll.left),\n          y: mathSign(scroll.top - container.scroll.top)\n        };\n      }\n\n      container.scroll = scroll;\n    });\n    /**\n     * Due to how the sequencer is implemented, it’s\n     * important that we update the state of all\n     * elements, before any animation logic is\n     * evaluated (in the second loop below).\n     */\n\n    each(elements, function (element) {\n      if (stale || element.geometry === undefined) {\n        element.geometry = getGeometry.call(this$1, element);\n      }\n\n      element.visible = isElementVisible.call(this$1, element);\n    });\n    each(elements, function (element) {\n      if (element.sequence) {\n        sequence.call(this$1, element);\n      } else {\n        animate.call(this$1, element);\n      }\n    });\n    this$1.pristine = false;\n  });\n}\n\nfunction isTransformSupported() {\n  var style = document.documentElement.style;\n  return 'transform' in style || 'WebkitTransform' in style;\n}\n\nfunction isTransitionSupported() {\n  var style = document.documentElement.style;\n  return 'transition' in style || 'WebkitTransition' in style;\n}\n\nvar version = \"4.0.7\";\nvar boundDelegate;\nvar boundDestroy;\nvar boundReveal;\nvar boundClean;\nvar boundSync;\nvar config;\nvar debug;\nvar instance;\n\nfunction ScrollReveal(options) {\n  if (options === void 0) options = {};\n  var invokedWithoutNew = typeof this === 'undefined' || Object.getPrototypeOf(this) !== ScrollReveal.prototype;\n\n  if (invokedWithoutNew) {\n    return new ScrollReveal(options);\n  }\n\n  if (!ScrollReveal.isSupported()) {\n    logger.call(this, 'Instantiation failed.', 'This browser is not supported.');\n    return mount.failure();\n  }\n\n  var buffer;\n\n  try {\n    buffer = config ? deepAssign({}, config, options) : deepAssign({}, defaults, options);\n  } catch (e) {\n    logger.call(this, 'Invalid configuration.', e.message);\n    return mount.failure();\n  }\n\n  try {\n    var container = $(buffer.container)[0];\n\n    if (!container) {\n      throw new Error('Invalid container.');\n    }\n  } catch (e) {\n    logger.call(this, e.message);\n    return mount.failure();\n  }\n\n  config = buffer;\n\n  if (!config.mobile && isMobile() || !config.desktop && !isMobile()) {\n    logger.call(this, 'This device is disabled.', \"desktop: \" + config.desktop, \"mobile: \" + config.mobile);\n    return mount.failure();\n  }\n\n  mount.success();\n  this.store = {\n    containers: {},\n    elements: {},\n    history: [],\n    sequences: {}\n  };\n  this.pristine = true;\n  boundDelegate = boundDelegate || delegate.bind(this);\n  boundDestroy = boundDestroy || destroy.bind(this);\n  boundReveal = boundReveal || reveal.bind(this);\n  boundClean = boundClean || clean.bind(this);\n  boundSync = boundSync || sync.bind(this);\n  Object.defineProperty(this, 'delegate', {\n    get: function () {\n      return boundDelegate;\n    }\n  });\n  Object.defineProperty(this, 'destroy', {\n    get: function () {\n      return boundDestroy;\n    }\n  });\n  Object.defineProperty(this, 'reveal', {\n    get: function () {\n      return boundReveal;\n    }\n  });\n  Object.defineProperty(this, 'clean', {\n    get: function () {\n      return boundClean;\n    }\n  });\n  Object.defineProperty(this, 'sync', {\n    get: function () {\n      return boundSync;\n    }\n  });\n  Object.defineProperty(this, 'defaults', {\n    get: function () {\n      return config;\n    }\n  });\n  Object.defineProperty(this, 'version', {\n    get: function () {\n      return version;\n    }\n  });\n  Object.defineProperty(this, 'noop', {\n    get: function () {\n      return false;\n    }\n  });\n  return instance ? instance : instance = this;\n}\n\nScrollReveal.isSupported = function () {\n  return isTransformSupported() && isTransitionSupported();\n};\n\nObject.defineProperty(ScrollReveal, 'debug', {\n  get: function () {\n    return debug || false;\n  },\n  set: function (value) {\n    return debug = typeof value === 'boolean' ? value : debug;\n  }\n});\nScrollReveal();\nexport default ScrollReveal;","map":{"version":3,"sources":["C:/Users/pietr/Documents/Projects/upwork_friendkit_react/friendkit-1.1.3/friendkit-1.1.3-react/node_modules/scrollreveal/dist/scrollreveal.es.js"],"names":["$","translateY","translateX","rotateX","rotateY","rotateZ","scale","parse","multiply","raf","defaults","delay","distance","duration","easing","interval","opacity","origin","rotate","x","y","z","cleanup","container","document","documentElement","desktop","mobile","reset","useDelay","viewFactor","viewOffset","top","right","bottom","left","afterReset","afterReveal","beforeReset","beforeReveal","failure","classList","remove","clean","destroy","reveal","sync","noop","success","add","body","style","height","addEventListener","mount","isObject","Object","constructor","prototype","toString","call","each","collection","callback","keys","forEach","key","Array","item","i","TypeError","logger","message","details","len","arguments","length","debug","console","report","detail","log","rinse","this$1","struct","active","stale","elementIds","sequenceIds","containerIds","node","id","parseInt","getAttribute","push","e","store","elements","element","indexOf","staleId","containerId","hasOwnProperty","sequence","containers","removeEventListener","delegate","sequences","target","dirty","callbackTimer","window","clearTimeout","clock","setAttribute","styles","inline","generated","removeAttribute","history","getPrefixedCssProp","properties","getPrefixedCssProperty","name","source","RangeError","clearCache","computed","getComputedStyle","position","config","inlineStyle","inlineMatch","match","map","m","trim","join","some","concat","computedOpacity","parseFloat","configOpacity","isNaN","transformations","axis","test","substr","ref","value","unit","fontSize","getBoundingClientRect","width","transform","property","raw","matrix","unshift","product","reduce","initial","final","transition","fragments","delayed","instant","hasCustomTransition","composed","composition","fragment","animate","force","pristine","seen","shouldReveal","visible","revealed","shouldReset","triggerReveal","triggerReset","filter","s","registerCallbacks","isDelayed","beforeCallback","afterCallback","elapsed","Date","now","start","setTimeout","nextUniqueId","uid","seq","index","SequenceModel","models","nextId","members","nextElement","cue","blocked","head","pop","shift","foot","Sequence","Math","abs","max","prop","direction","initialize","initTimeout","isMobile","agent","navigator","userAgent","deepAssign","sources","data","options","syncing","containerBuffer","sequence$$1","nodes","Error","elementBuffer","elementNode","existingId","containerNode","contains","getContainerId","bind","collections","record","polyfill","mathSign","sign","getGeometry","isContainer","clientHeight","offsetHeight","clientWidth","offsetWidth","offsetTop","offsetLeft","offsetParent","bounds","getScrolled","pageYOffset","pageXOffset","scrollTop","scrollLeft","isElementVisible","min","elementBounds","geometry","containerBounds","scroll","event","type","undefined","isTransformSupported","isTransitionSupported","version","boundDelegate","boundDestroy","boundReveal","boundClean","boundSync","instance","ScrollReveal","invokedWithoutNew","getPrototypeOf","isSupported","buffer","defineProperty","get","set"],"mappings":"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","sourcesContent":["/*! @license ScrollReveal v4.0.7\n\n\tCopyright 2020 Fisssion LLC.\n\n\tLicensed under the GNU General Public License 3.0 for\n\tcompatible open source projects and non-commercial use.\n\n\tFor commercial sites, themes, projects, and applications,\n\tkeep your source code private/proprietary by purchasing\n\ta commercial license from https://scrollrevealjs.org/\n*/\nimport $ from 'tealight';\nimport { translateY, translateX, rotateX, rotateY, rotateZ, scale, parse, multiply } from 'rematrix';\nimport raf from 'miniraf';\n\nvar defaults = {\n\tdelay: 0,\n\tdistance: '0',\n\tduration: 600,\n\teasing: 'cubic-bezier(0.5, 0, 0, 1)',\n\tinterval: 0,\n\topacity: 0,\n\torigin: 'bottom',\n\trotate: {\n\t\tx: 0,\n\t\ty: 0,\n\t\tz: 0\n\t},\n\tscale: 1,\n\tcleanup: false,\n\tcontainer: document.documentElement,\n\tdesktop: true,\n\tmobile: true,\n\treset: false,\n\tuseDelay: 'always',\n\tviewFactor: 0.0,\n\tviewOffset: {\n\t\ttop: 0,\n\t\tright: 0,\n\t\tbottom: 0,\n\t\tleft: 0\n\t},\n\tafterReset: function afterReset() {},\n\tafterReveal: function afterReveal() {},\n\tbeforeReset: function beforeReset() {},\n\tbeforeReveal: function beforeReveal() {}\n};\n\nfunction failure() {\n\tdocument.documentElement.classList.remove('sr');\n\n\treturn {\n\t\tclean: function clean() {},\n\t\tdestroy: function destroy() {},\n\t\treveal: function reveal() {},\n\t\tsync: function sync() {},\n\t\tget noop() {\n\t\t\treturn true\n\t\t}\n\t}\n}\n\nfunction success() {\n\tdocument.documentElement.classList.add('sr');\n\n\tif (document.body) {\n\t\tdocument.body.style.height = '100%';\n\t} else {\n\t\tdocument.addEventListener('DOMContentLoaded', function () {\n\t\t\tdocument.body.style.height = '100%';\n\t\t});\n\t}\n}\n\nvar mount = { success: success, failure: failure };\n\nfunction isObject(x) {\n\treturn (\n\t\tx !== null &&\n\t\tx instanceof Object &&\n\t\t(x.constructor === Object ||\n\t\t\tObject.prototype.toString.call(x) === '[object Object]')\n\t)\n}\n\nfunction each(collection, callback) {\n\tif (isObject(collection)) {\n\t\tvar keys = Object.keys(collection);\n\t\treturn keys.forEach(function (key) { return callback(collection[key], key, collection); })\n\t}\n\tif (collection instanceof Array) {\n\t\treturn collection.forEach(function (item, i) { return callback(item, i, collection); })\n\t}\n\tthrow new TypeError('Expected either an array or object literal.')\n}\n\nfunction logger(message) {\n\tvar details = [], len = arguments.length - 1;\n\twhile ( len-- > 0 ) details[ len ] = arguments[ len + 1 ];\n\n\tif (this.constructor.debug && console) {\n\t\tvar report = \"%cScrollReveal: \" + message;\n\t\tdetails.forEach(function (detail) { return (report += \"\\n — \" + detail); });\n\t\tconsole.log(report, 'color: #ea654b;'); // eslint-disable-line no-console\n\t}\n}\n\nfunction rinse() {\n\tvar this$1 = this;\n\n\tvar struct = function () { return ({\n\t\tactive: [],\n\t\tstale: []\n\t}); };\n\n\tvar elementIds = struct();\n\tvar sequenceIds = struct();\n\tvar containerIds = struct();\n\n\t/**\n\t * Take stock of active element IDs.\n\t */\n\ttry {\n\t\teach($('[data-sr-id]'), function (node) {\n\t\t\tvar id = parseInt(node.getAttribute('data-sr-id'));\n\t\t\telementIds.active.push(id);\n\t\t});\n\t} catch (e) {\n\t\tthrow e\n\t}\n\t/**\n\t * Destroy stale elements.\n\t */\n\teach(this.store.elements, function (element) {\n\t\tif (elementIds.active.indexOf(element.id) === -1) {\n\t\t\telementIds.stale.push(element.id);\n\t\t}\n\t});\n\n\teach(elementIds.stale, function (staleId) { return delete this$1.store.elements[staleId]; });\n\n\t/**\n\t * Take stock of active container and sequence IDs.\n\t */\n\teach(this.store.elements, function (element) {\n\t\tif (containerIds.active.indexOf(element.containerId) === -1) {\n\t\t\tcontainerIds.active.push(element.containerId);\n\t\t}\n\t\tif (element.hasOwnProperty('sequence')) {\n\t\t\tif (sequenceIds.active.indexOf(element.sequence.id) === -1) {\n\t\t\t\tsequenceIds.active.push(element.sequence.id);\n\t\t\t}\n\t\t}\n\t});\n\n\t/**\n\t * Destroy stale containers.\n\t */\n\teach(this.store.containers, function (container) {\n\t\tif (containerIds.active.indexOf(container.id) === -1) {\n\t\t\tcontainerIds.stale.push(container.id);\n\t\t}\n\t});\n\n\teach(containerIds.stale, function (staleId) {\n\t\tvar stale = this$1.store.containers[staleId].node;\n\t\tstale.removeEventListener('scroll', this$1.delegate);\n\t\tstale.removeEventListener('resize', this$1.delegate);\n\t\tdelete this$1.store.containers[staleId];\n\t});\n\n\t/**\n\t * Destroy stale sequences.\n\t */\n\teach(this.store.sequences, function (sequence) {\n\t\tif (sequenceIds.active.indexOf(sequence.id) === -1) {\n\t\t\tsequenceIds.stale.push(sequence.id);\n\t\t}\n\t});\n\n\teach(sequenceIds.stale, function (staleId) { return delete this$1.store.sequences[staleId]; });\n}\n\nfunction clean(target) {\n\tvar this$1 = this;\n\n\tvar dirty;\n\ttry {\n\t\teach($(target), function (node) {\n\t\t\tvar id = node.getAttribute('data-sr-id');\n\t\t\tif (id !== null) {\n\t\t\t\tdirty = true;\n\t\t\t\tvar element = this$1.store.elements[id];\n\t\t\t\tif (element.callbackTimer) {\n\t\t\t\t\twindow.clearTimeout(element.callbackTimer.clock);\n\t\t\t\t}\n\t\t\t\tnode.setAttribute('style', element.styles.inline.generated);\n\t\t\t\tnode.removeAttribute('data-sr-id');\n\t\t\t\tdelete this$1.store.elements[id];\n\t\t\t}\n\t\t});\n\t} catch (e) {\n\t\treturn logger.call(this, 'Clean failed.', e.message)\n\t}\n\n\tif (dirty) {\n\t\ttry {\n\t\t\trinse.call(this);\n\t\t} catch (e) {\n\t\t\treturn logger.call(this, 'Clean failed.', e.message)\n\t\t}\n\t}\n}\n\nfunction destroy() {\n\tvar this$1 = this;\n\n\t/**\n\t * Remove all generated styles and element ids\n\t */\n\teach(this.store.elements, function (element) {\n\t\telement.node.setAttribute('style', element.styles.inline.generated);\n\t\telement.node.removeAttribute('data-sr-id');\n\t});\n\n\t/**\n\t * Remove all event listeners.\n\t */\n\teach(this.store.containers, function (container) {\n\t\tvar target =\n\t\t\tcontainer.node === document.documentElement ? window : container.node;\n\t\ttarget.removeEventListener('scroll', this$1.delegate);\n\t\ttarget.removeEventListener('resize', this$1.delegate);\n\t});\n\n\t/**\n\t * Clear all data from the store\n\t */\n\tthis.store = {\n\t\tcontainers: {},\n\t\telements: {},\n\t\thistory: [],\n\t\tsequences: {}\n\t};\n}\n\nvar getPrefixedCssProp = (function () {\n\tvar properties = {};\n\tvar style = document.documentElement.style;\n\n\tfunction getPrefixedCssProperty(name, source) {\n\t\tif ( source === void 0 ) source = style;\n\n\t\tif (name && typeof name === 'string') {\n\t\t\tif (properties[name]) {\n\t\t\t\treturn properties[name]\n\t\t\t}\n\t\t\tif (typeof source[name] === 'string') {\n\t\t\t\treturn (properties[name] = name)\n\t\t\t}\n\t\t\tif (typeof source[(\"-webkit-\" + name)] === 'string') {\n\t\t\t\treturn (properties[name] = \"-webkit-\" + name)\n\t\t\t}\n\t\t\tthrow new RangeError((\"Unable to find \\\"\" + name + \"\\\" style property.\"))\n\t\t}\n\t\tthrow new TypeError('Expected a string.')\n\t}\n\n\tgetPrefixedCssProperty.clearCache = function () { return (properties = {}); };\n\n\treturn getPrefixedCssProperty\n})();\n\nfunction style(element) {\n\tvar computed = window.getComputedStyle(element.node);\n\tvar position = computed.position;\n\tvar config = element.config;\n\n\t/**\n\t * Generate inline styles\n\t */\n\tvar inline = {};\n\tvar inlineStyle = element.node.getAttribute('style') || '';\n\tvar inlineMatch = inlineStyle.match(/[\\w-]+\\s*:\\s*[^;]+\\s*/gi) || [];\n\n\tinline.computed = inlineMatch ? inlineMatch.map(function (m) { return m.trim(); }).join('; ') + ';' : '';\n\n\tinline.generated = inlineMatch.some(function (m) { return m.match(/visibility\\s?:\\s?visible/i); })\n\t\t? inline.computed\n\t\t: inlineMatch.concat( ['visibility: visible']).map(function (m) { return m.trim(); }).join('; ') + ';';\n\n\t/**\n\t * Generate opacity styles\n\t */\n\tvar computedOpacity = parseFloat(computed.opacity);\n\tvar configOpacity = !isNaN(parseFloat(config.opacity))\n\t\t? parseFloat(config.opacity)\n\t\t: parseFloat(computed.opacity);\n\n\tvar opacity = {\n\t\tcomputed: computedOpacity !== configOpacity ? (\"opacity: \" + computedOpacity + \";\") : '',\n\t\tgenerated: computedOpacity !== configOpacity ? (\"opacity: \" + configOpacity + \";\") : ''\n\t};\n\n\t/**\n\t * Generate transformation styles\n\t */\n\tvar transformations = [];\n\n\tif (parseFloat(config.distance)) {\n\t\tvar axis = config.origin === 'top' || config.origin === 'bottom' ? 'Y' : 'X';\n\n\t\t/**\n\t\t * Let’s make sure our our pixel distances are negative for top and left.\n\t\t * e.g. { origin: 'top', distance: '25px' } starts at `top: -25px` in CSS.\n\t\t */\n\t\tvar distance = config.distance;\n\t\tif (config.origin === 'top' || config.origin === 'left') {\n\t\t\tdistance = /^-/.test(distance) ? distance.substr(1) : (\"-\" + distance);\n\t\t}\n\n\t\tvar ref = distance.match(/(^-?\\d+\\.?\\d?)|(em$|px$|%$)/g);\n\t\tvar value = ref[0];\n\t\tvar unit = ref[1];\n\n\t\tswitch (unit) {\n\t\t\tcase 'em':\n\t\t\t\tdistance = parseInt(computed.fontSize) * value;\n\t\t\t\tbreak\n\t\t\tcase 'px':\n\t\t\t\tdistance = value;\n\t\t\t\tbreak\n\t\t\tcase '%':\n\t\t\t\t/**\n\t\t\t\t * Here we use `getBoundingClientRect` instead of\n\t\t\t\t * the existing data attached to `element.geometry`\n\t\t\t\t * because only the former includes any transformations\n\t\t\t\t * current applied to the element.\n\t\t\t\t *\n\t\t\t\t * If that behavior ends up being unintuitive, this\n\t\t\t\t * logic could instead utilize `element.geometry.height`\n\t\t\t\t * and `element.geoemetry.width` for the distance calculation\n\t\t\t\t */\n\t\t\t\tdistance =\n\t\t\t\t\taxis === 'Y'\n\t\t\t\t\t\t? (element.node.getBoundingClientRect().height * value) / 100\n\t\t\t\t\t\t: (element.node.getBoundingClientRect().width * value) / 100;\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tthrow new RangeError('Unrecognized or missing distance unit.')\n\t\t}\n\n\t\tif (axis === 'Y') {\n\t\t\ttransformations.push(translateY(distance));\n\t\t} else {\n\t\t\ttransformations.push(translateX(distance));\n\t\t}\n\t}\n\n\tif (config.rotate.x) { transformations.push(rotateX(config.rotate.x)); }\n\tif (config.rotate.y) { transformations.push(rotateY(config.rotate.y)); }\n\tif (config.rotate.z) { transformations.push(rotateZ(config.rotate.z)); }\n\tif (config.scale !== 1) {\n\t\tif (config.scale === 0) {\n\t\t\t/**\n\t\t\t * The CSS Transforms matrix interpolation specification\n\t\t\t * basically disallows transitions of non-invertible\n\t\t\t * matrixes, which means browsers won't transition\n\t\t\t * elements with zero scale.\n\t\t\t *\n\t\t\t * That’s inconvenient for the API and developer\n\t\t\t * experience, so we simply nudge their value\n\t\t\t * slightly above zero; this allows browsers\n\t\t\t * to transition our element as expected.\n\t\t\t *\n\t\t\t * `0.0002` was the smallest number\n\t\t\t * that performed across browsers.\n\t\t\t */\n\t\t\ttransformations.push(scale(0.0002));\n\t\t} else {\n\t\t\ttransformations.push(scale(config.scale));\n\t\t}\n\t}\n\n\tvar transform = {};\n\tif (transformations.length) {\n\t\ttransform.property = getPrefixedCssProp('transform');\n\t\t/**\n\t\t * The default computed transform value should be one of:\n\t\t * undefined || 'none' || 'matrix()' || 'matrix3d()'\n\t\t */\n\t\ttransform.computed = {\n\t\t\traw: computed[transform.property],\n\t\t\tmatrix: parse(computed[transform.property])\n\t\t};\n\n\t\ttransformations.unshift(transform.computed.matrix);\n\t\tvar product = transformations.reduce(multiply);\n\n\t\ttransform.generated = {\n\t\t\tinitial: ((transform.property) + \": matrix3d(\" + (product.join(', ')) + \");\"),\n\t\t\tfinal: ((transform.property) + \": matrix3d(\" + (transform.computed.matrix.join(', ')) + \");\")\n\t\t};\n\t} else {\n\t\ttransform.generated = {\n\t\t\tinitial: '',\n\t\t\tfinal: ''\n\t\t};\n\t}\n\n\t/**\n\t * Generate transition styles\n\t */\n\tvar transition = {};\n\tif (opacity.generated || transform.generated.initial) {\n\t\ttransition.property = getPrefixedCssProp('transition');\n\t\ttransition.computed = computed[transition.property];\n\t\ttransition.fragments = [];\n\n\t\tvar delay = config.delay;\n\t\tvar duration = config.duration;\n\t\tvar easing = config.easing;\n\n\t\tif (opacity.generated) {\n\t\t\ttransition.fragments.push({\n\t\t\t\tdelayed: (\"opacity \" + (duration / 1000) + \"s \" + easing + \" \" + (delay / 1000) + \"s\"),\n\t\t\t\tinstant: (\"opacity \" + (duration / 1000) + \"s \" + easing + \" 0s\")\n\t\t\t});\n\t\t}\n\n\t\tif (transform.generated.initial) {\n\t\t\ttransition.fragments.push({\n\t\t\t\tdelayed: ((transform.property) + \" \" + (duration / 1000) + \"s \" + easing + \" \" + (delay / 1000) + \"s\"),\n\t\t\t\tinstant: ((transform.property) + \" \" + (duration / 1000) + \"s \" + easing + \" 0s\")\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * The default computed transition property should be undefined, or one of:\n\t\t * '' || 'none 0s ease 0s' || 'all 0s ease 0s' || 'all 0s 0s cubic-bezier()'\n\t\t */\n\t\tvar hasCustomTransition =\n\t\t\ttransition.computed && !transition.computed.match(/all 0s|none 0s/);\n\n\t\tif (hasCustomTransition) {\n\t\t\ttransition.fragments.unshift({\n\t\t\t\tdelayed: transition.computed,\n\t\t\t\tinstant: transition.computed\n\t\t\t});\n\t\t}\n\n\t\tvar composed = transition.fragments.reduce(\n\t\t\tfunction (composition, fragment, i) {\n\t\t\t\tcomposition.delayed += i === 0 ? fragment.delayed : (\", \" + (fragment.delayed));\n\t\t\t\tcomposition.instant += i === 0 ? fragment.instant : (\", \" + (fragment.instant));\n\t\t\t\treturn composition\n\t\t\t},\n\t\t\t{\n\t\t\t\tdelayed: '',\n\t\t\t\tinstant: ''\n\t\t\t}\n\t\t);\n\n\t\ttransition.generated = {\n\t\t\tdelayed: ((transition.property) + \": \" + (composed.delayed) + \";\"),\n\t\t\tinstant: ((transition.property) + \": \" + (composed.instant) + \";\")\n\t\t};\n\t} else {\n\t\ttransition.generated = {\n\t\t\tdelayed: '',\n\t\t\tinstant: ''\n\t\t};\n\t}\n\n\treturn {\n\t\tinline: inline,\n\t\topacity: opacity,\n\t\tposition: position,\n\t\ttransform: transform,\n\t\ttransition: transition\n\t}\n}\n\nfunction animate(element, force) {\n\tif ( force === void 0 ) force = {};\n\n\tvar pristine = force.pristine || this.pristine;\n\tvar delayed =\n\t\telement.config.useDelay === 'always' ||\n\t\t(element.config.useDelay === 'onload' && pristine) ||\n\t\t(element.config.useDelay === 'once' && !element.seen);\n\n\tvar shouldReveal = element.visible && !element.revealed;\n\tvar shouldReset = !element.visible && element.revealed && element.config.reset;\n\n\tif (force.reveal || shouldReveal) {\n\t\treturn triggerReveal.call(this, element, delayed)\n\t}\n\n\tif (force.reset || shouldReset) {\n\t\treturn triggerReset.call(this, element)\n\t}\n}\n\nfunction triggerReveal(element, delayed) {\n\tvar styles = [\n\t\telement.styles.inline.generated,\n\t\telement.styles.opacity.computed,\n\t\telement.styles.transform.generated.final\n\t];\n\tif (delayed) {\n\t\tstyles.push(element.styles.transition.generated.delayed);\n\t} else {\n\t\tstyles.push(element.styles.transition.generated.instant);\n\t}\n\telement.revealed = element.seen = true;\n\telement.node.setAttribute('style', styles.filter(function (s) { return s !== ''; }).join(' '));\n\tregisterCallbacks.call(this, element, delayed);\n}\n\nfunction triggerReset(element) {\n\tvar styles = [\n\t\telement.styles.inline.generated,\n\t\telement.styles.opacity.generated,\n\t\telement.styles.transform.generated.initial,\n\t\telement.styles.transition.generated.instant\n\t];\n\telement.revealed = false;\n\telement.node.setAttribute('style', styles.filter(function (s) { return s !== ''; }).join(' '));\n\tregisterCallbacks.call(this, element);\n}\n\nfunction registerCallbacks(element, isDelayed) {\n\tvar this$1 = this;\n\n\tvar duration = isDelayed\n\t\t? element.config.duration + element.config.delay\n\t\t: element.config.duration;\n\n\tvar beforeCallback = element.revealed\n\t\t? element.config.beforeReveal\n\t\t: element.config.beforeReset;\n\n\tvar afterCallback = element.revealed\n\t\t? element.config.afterReveal\n\t\t: element.config.afterReset;\n\n\tvar elapsed = 0;\n\tif (element.callbackTimer) {\n\t\telapsed = Date.now() - element.callbackTimer.start;\n\t\twindow.clearTimeout(element.callbackTimer.clock);\n\t}\n\n\tbeforeCallback(element.node);\n\n\telement.callbackTimer = {\n\t\tstart: Date.now(),\n\t\tclock: window.setTimeout(function () {\n\t\t\tafterCallback(element.node);\n\t\t\telement.callbackTimer = null;\n\t\t\tif (element.revealed && !element.config.reset && element.config.cleanup) {\n\t\t\t\tclean.call(this$1, element.node);\n\t\t\t}\n\t\t}, duration - elapsed)\n\t};\n}\n\nvar nextUniqueId = (function () {\n\tvar uid = 0;\n\treturn function () { return uid++; }\n})();\n\nfunction sequence(element, pristine) {\n\tif ( pristine === void 0 ) pristine = this.pristine;\n\n\t/**\n\t * We first check if the element should reset.\n\t */\n\tif (!element.visible && element.revealed && element.config.reset) {\n\t\treturn animate.call(this, element, { reset: true })\n\t}\n\n\tvar seq = this.store.sequences[element.sequence.id];\n\tvar i = element.sequence.index;\n\n\tif (seq) {\n\t\tvar visible = new SequenceModel(seq, 'visible', this.store);\n\t\tvar revealed = new SequenceModel(seq, 'revealed', this.store);\n\n\t\tseq.models = { visible: visible, revealed: revealed };\n\n\t\t/**\n\t\t * If the sequence has no revealed members,\n\t\t * then we reveal the first visible element\n\t\t * within that sequence.\n\t\t *\n\t\t * The sequence then cues a recursive call\n\t\t * in both directions.\n\t\t */\n\t\tif (!revealed.body.length) {\n\t\t\tvar nextId = seq.members[visible.body[0]];\n\t\t\tvar nextElement = this.store.elements[nextId];\n\n\t\t\tif (nextElement) {\n\t\t\t\tcue.call(this, seq, visible.body[0], -1, pristine);\n\t\t\t\tcue.call(this, seq, visible.body[0], +1, pristine);\n\t\t\t\treturn animate.call(this, nextElement, { reveal: true, pristine: pristine })\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * If our element isn’t resetting, we check the\n\t\t * element sequence index against the head, and\n\t\t * then the foot of the sequence.\n\t\t */\n\t\tif (\n\t\t\t!seq.blocked.head &&\n\t\t\ti === [].concat( revealed.head ).pop() &&\n\t\t\ti >= [].concat( visible.body ).shift()\n\t\t) {\n\t\t\tcue.call(this, seq, i, -1, pristine);\n\t\t\treturn animate.call(this, element, { reveal: true, pristine: pristine })\n\t\t}\n\n\t\tif (\n\t\t\t!seq.blocked.foot &&\n\t\t\ti === [].concat( revealed.foot ).shift() &&\n\t\t\ti <= [].concat( visible.body ).pop()\n\t\t) {\n\t\t\tcue.call(this, seq, i, +1, pristine);\n\t\t\treturn animate.call(this, element, { reveal: true, pristine: pristine })\n\t\t}\n\t}\n}\n\nfunction Sequence(interval) {\n\tvar i = Math.abs(interval);\n\tif (!isNaN(i)) {\n\t\tthis.id = nextUniqueId();\n\t\tthis.interval = Math.max(i, 16);\n\t\tthis.members = [];\n\t\tthis.models = {};\n\t\tthis.blocked = {\n\t\t\thead: false,\n\t\t\tfoot: false\n\t\t};\n\t} else {\n\t\tthrow new RangeError('Invalid sequence interval.')\n\t}\n}\n\nfunction SequenceModel(seq, prop, store) {\n\tvar this$1 = this;\n\n\tthis.head = [];\n\tthis.body = [];\n\tthis.foot = [];\n\n\teach(seq.members, function (id, index) {\n\t\tvar element = store.elements[id];\n\t\tif (element && element[prop]) {\n\t\t\tthis$1.body.push(index);\n\t\t}\n\t});\n\n\tif (this.body.length) {\n\t\teach(seq.members, function (id, index) {\n\t\t\tvar element = store.elements[id];\n\t\t\tif (element && !element[prop]) {\n\t\t\t\tif (index < this$1.body[0]) {\n\t\t\t\t\tthis$1.head.push(index);\n\t\t\t\t} else {\n\t\t\t\t\tthis$1.foot.push(index);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction cue(seq, i, direction, pristine) {\n\tvar this$1 = this;\n\n\tvar blocked = ['head', null, 'foot'][1 + direction];\n\tvar nextId = seq.members[i + direction];\n\tvar nextElement = this.store.elements[nextId];\n\n\tseq.blocked[blocked] = true;\n\n\tsetTimeout(function () {\n\t\tseq.blocked[blocked] = false;\n\t\tif (nextElement) {\n\t\t\tsequence.call(this$1, nextElement, pristine);\n\t\t}\n\t}, seq.interval);\n}\n\nfunction initialize() {\n\tvar this$1 = this;\n\n\trinse.call(this);\n\n\teach(this.store.elements, function (element) {\n\t\tvar styles = [element.styles.inline.generated];\n\n\t\tif (element.visible) {\n\t\t\tstyles.push(element.styles.opacity.computed);\n\t\t\tstyles.push(element.styles.transform.generated.final);\n\t\t\telement.revealed = true;\n\t\t} else {\n\t\t\tstyles.push(element.styles.opacity.generated);\n\t\t\tstyles.push(element.styles.transform.generated.initial);\n\t\t\telement.revealed = false;\n\t\t}\n\n\t\telement.node.setAttribute('style', styles.filter(function (s) { return s !== ''; }).join(' '));\n\t});\n\n\teach(this.store.containers, function (container) {\n\t\tvar target =\n\t\t\tcontainer.node === document.documentElement ? window : container.node;\n\t\ttarget.addEventListener('scroll', this$1.delegate);\n\t\ttarget.addEventListener('resize', this$1.delegate);\n\t});\n\n\t/**\n\t * Manually invoke delegate once to capture\n\t * element and container dimensions, container\n\t * scroll position, and trigger any valid reveals\n\t */\n\tthis.delegate();\n\n\t/**\n\t * Wipe any existing `setTimeout` now\n\t * that initialization has completed.\n\t */\n\tthis.initTimeout = null;\n}\n\nfunction isMobile(agent) {\n\tif ( agent === void 0 ) agent = navigator.userAgent;\n\n\treturn /Android|iPhone|iPad|iPod/i.test(agent)\n}\n\nfunction deepAssign(target) {\n\tvar sources = [], len = arguments.length - 1;\n\twhile ( len-- > 0 ) sources[ len ] = arguments[ len + 1 ];\n\n\tif (isObject(target)) {\n\t\teach(sources, function (source) {\n\t\t\teach(source, function (data, key) {\n\t\t\t\tif (isObject(data)) {\n\t\t\t\t\tif (!target[key] || !isObject(target[key])) {\n\t\t\t\t\t\ttarget[key] = {};\n\t\t\t\t\t}\n\t\t\t\t\tdeepAssign(target[key], data);\n\t\t\t\t} else {\n\t\t\t\t\ttarget[key] = data;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\treturn target\n\t} else {\n\t\tthrow new TypeError('Target must be an object literal.')\n\t}\n}\n\nfunction reveal(target, options, syncing) {\n\tvar this$1 = this;\n\tif ( options === void 0 ) options = {};\n\tif ( syncing === void 0 ) syncing = false;\n\n\tvar containerBuffer = [];\n\tvar sequence$$1;\n\tvar interval = options.interval || defaults.interval;\n\n\ttry {\n\t\tif (interval) {\n\t\t\tsequence$$1 = new Sequence(interval);\n\t\t}\n\n\t\tvar nodes = $(target);\n\t\tif (!nodes.length) {\n\t\t\tthrow new Error('Invalid reveal target.')\n\t\t}\n\n\t\tvar elements = nodes.reduce(function (elementBuffer, elementNode) {\n\t\t\tvar element = {};\n\t\t\tvar existingId = elementNode.getAttribute('data-sr-id');\n\n\t\t\tif (existingId) {\n\t\t\t\tdeepAssign(element, this$1.store.elements[existingId]);\n\n\t\t\t\t/**\n\t\t\t\t * In order to prevent previously generated styles\n\t\t\t\t * from throwing off the new styles, the style tag\n\t\t\t\t * has to be reverted to its pre-reveal state.\n\t\t\t\t */\n\t\t\t\telement.node.setAttribute('style', element.styles.inline.computed);\n\t\t\t} else {\n\t\t\t\telement.id = nextUniqueId();\n\t\t\t\telement.node = elementNode;\n\t\t\t\telement.seen = false;\n\t\t\t\telement.revealed = false;\n\t\t\t\telement.visible = false;\n\t\t\t}\n\n\t\t\tvar config = deepAssign({}, element.config || this$1.defaults, options);\n\n\t\t\tif ((!config.mobile && isMobile()) || (!config.desktop && !isMobile())) {\n\t\t\t\tif (existingId) {\n\t\t\t\t\tclean.call(this$1, element);\n\t\t\t\t}\n\t\t\t\treturn elementBuffer // skip elements that are disabled\n\t\t\t}\n\n\t\t\tvar containerNode = $(config.container)[0];\n\t\t\tif (!containerNode) {\n\t\t\t\tthrow new Error('Invalid container.')\n\t\t\t}\n\t\t\tif (!containerNode.contains(elementNode)) {\n\t\t\t\treturn elementBuffer // skip elements found outside the container\n\t\t\t}\n\n\t\t\tvar containerId;\n\t\t\t{\n\t\t\t\tcontainerId = getContainerId(\n\t\t\t\t\tcontainerNode,\n\t\t\t\t\tcontainerBuffer,\n\t\t\t\t\tthis$1.store.containers\n\t\t\t\t);\n\t\t\t\tif (containerId === null) {\n\t\t\t\t\tcontainerId = nextUniqueId();\n\t\t\t\t\tcontainerBuffer.push({ id: containerId, node: containerNode });\n\t\t\t\t}\n\t\t\t}\n\n\t\t\telement.config = config;\n\t\t\telement.containerId = containerId;\n\t\t\telement.styles = style(element);\n\n\t\t\tif (sequence$$1) {\n\t\t\t\telement.sequence = {\n\t\t\t\t\tid: sequence$$1.id,\n\t\t\t\t\tindex: sequence$$1.members.length\n\t\t\t\t};\n\t\t\t\tsequence$$1.members.push(element.id);\n\t\t\t}\n\n\t\t\telementBuffer.push(element);\n\t\t\treturn elementBuffer\n\t\t}, []);\n\n\t\t/**\n\t\t * Modifying the DOM via setAttribute needs to be handled\n\t\t * separately from reading computed styles in the map above\n\t\t * for the browser to batch DOM changes (limiting reflows)\n\t\t */\n\t\teach(elements, function (element) {\n\t\t\tthis$1.store.elements[element.id] = element;\n\t\t\telement.node.setAttribute('data-sr-id', element.id);\n\t\t});\n\t} catch (e) {\n\t\treturn logger.call(this, 'Reveal failed.', e.message)\n\t}\n\n\t/**\n\t * Now that element set-up is complete...\n\t * Let’s commit any container and sequence data we have to the store.\n\t */\n\teach(containerBuffer, function (container) {\n\t\tthis$1.store.containers[container.id] = {\n\t\t\tid: container.id,\n\t\t\tnode: container.node\n\t\t};\n\t});\n\tif (sequence$$1) {\n\t\tthis.store.sequences[sequence$$1.id] = sequence$$1;\n\t}\n\n\t/**\n\t * If reveal wasn't invoked by sync, we want to\n\t * make sure to add this call to the history.\n\t */\n\tif (syncing !== true) {\n\t\tthis.store.history.push({ target: target, options: options });\n\n\t\t/**\n\t\t * Push initialization to the event queue, giving\n\t\t * multiple reveal calls time to be interpreted.\n\t\t */\n\t\tif (this.initTimeout) {\n\t\t\twindow.clearTimeout(this.initTimeout);\n\t\t}\n\t\tthis.initTimeout = window.setTimeout(initialize.bind(this), 0);\n\t}\n}\n\nfunction getContainerId(node) {\n\tvar collections = [], len = arguments.length - 1;\n\twhile ( len-- > 0 ) collections[ len ] = arguments[ len + 1 ];\n\n\tvar id = null;\n\teach(collections, function (collection) {\n\t\teach(collection, function (container) {\n\t\t\tif (id === null && container.node === node) {\n\t\t\t\tid = container.id;\n\t\t\t}\n\t\t});\n\t});\n\treturn id\n}\n\n/**\n * Re-runs the reveal method for each record stored in history,\n * for capturing new content asynchronously loaded into the DOM.\n */\nfunction sync() {\n\tvar this$1 = this;\n\n\teach(this.store.history, function (record) {\n\t\treveal.call(this$1, record.target, record.options, true);\n\t});\n\n\tinitialize.call(this);\n}\n\nvar polyfill = function (x) { return (x > 0) - (x < 0) || +x; };\nvar mathSign = Math.sign || polyfill;\n\nfunction getGeometry(target, isContainer) {\n\t/**\n\t * We want to ignore padding and scrollbars for container elements.\n\t * More information here: https://goo.gl/vOZpbz\n\t */\n\tvar height = isContainer ? target.node.clientHeight : target.node.offsetHeight;\n\tvar width = isContainer ? target.node.clientWidth : target.node.offsetWidth;\n\n\tvar offsetTop = 0;\n\tvar offsetLeft = 0;\n\tvar node = target.node;\n\n\tdo {\n\t\tif (!isNaN(node.offsetTop)) {\n\t\t\toffsetTop += node.offsetTop;\n\t\t}\n\t\tif (!isNaN(node.offsetLeft)) {\n\t\t\toffsetLeft += node.offsetLeft;\n\t\t}\n\t\tnode = node.offsetParent;\n\t} while (node)\n\n\treturn {\n\t\tbounds: {\n\t\t\ttop: offsetTop,\n\t\t\tright: offsetLeft + width,\n\t\t\tbottom: offsetTop + height,\n\t\t\tleft: offsetLeft\n\t\t},\n\t\theight: height,\n\t\twidth: width\n\t}\n}\n\nfunction getScrolled(container) {\n\tvar top, left;\n\tif (container.node === document.documentElement) {\n\t\ttop = window.pageYOffset;\n\t\tleft = window.pageXOffset;\n\t} else {\n\t\ttop = container.node.scrollTop;\n\t\tleft = container.node.scrollLeft;\n\t}\n\treturn { top: top, left: left }\n}\n\nfunction isElementVisible(element) {\n\tif ( element === void 0 ) element = {};\n\n\tvar container = this.store.containers[element.containerId];\n\tif (!container) { return }\n\n\tvar viewFactor = Math.max(0, Math.min(1, element.config.viewFactor));\n\tvar viewOffset = element.config.viewOffset;\n\n\tvar elementBounds = {\n\t\ttop: element.geometry.bounds.top + element.geometry.height * viewFactor,\n\t\tright: element.geometry.bounds.right - element.geometry.width * viewFactor,\n\t\tbottom: element.geometry.bounds.bottom - element.geometry.height * viewFactor,\n\t\tleft: element.geometry.bounds.left + element.geometry.width * viewFactor\n\t};\n\n\tvar containerBounds = {\n\t\ttop: container.geometry.bounds.top + container.scroll.top + viewOffset.top,\n\t\tright: container.geometry.bounds.right + container.scroll.left - viewOffset.right,\n\t\tbottom:\n\t\t\tcontainer.geometry.bounds.bottom + container.scroll.top - viewOffset.bottom,\n\t\tleft: container.geometry.bounds.left + container.scroll.left + viewOffset.left\n\t};\n\n\treturn (\n\t\t(elementBounds.top < containerBounds.bottom &&\n\t\t\telementBounds.right > containerBounds.left &&\n\t\t\telementBounds.bottom > containerBounds.top &&\n\t\t\telementBounds.left < containerBounds.right) ||\n\t\telement.styles.position === 'fixed'\n\t)\n}\n\nfunction delegate(\n\tevent,\n\telements\n) {\n\tvar this$1 = this;\n\tif ( event === void 0 ) event = { type: 'init' };\n\tif ( elements === void 0 ) elements = this.store.elements;\n\n\traf(function () {\n\t\tvar stale = event.type === 'init' || event.type === 'resize';\n\n\t\teach(this$1.store.containers, function (container) {\n\t\t\tif (stale) {\n\t\t\t\tcontainer.geometry = getGeometry.call(this$1, container, true);\n\t\t\t}\n\t\t\tvar scroll = getScrolled.call(this$1, container);\n\t\t\tif (container.scroll) {\n\t\t\t\tcontainer.direction = {\n\t\t\t\t\tx: mathSign(scroll.left - container.scroll.left),\n\t\t\t\t\ty: mathSign(scroll.top - container.scroll.top)\n\t\t\t\t};\n\t\t\t}\n\t\t\tcontainer.scroll = scroll;\n\t\t});\n\n\t\t/**\n\t\t * Due to how the sequencer is implemented, it’s\n\t\t * important that we update the state of all\n\t\t * elements, before any animation logic is\n\t\t * evaluated (in the second loop below).\n\t\t */\n\t\teach(elements, function (element) {\n\t\t\tif (stale || element.geometry === undefined) {\n\t\t\t\telement.geometry = getGeometry.call(this$1, element);\n\t\t\t}\n\t\t\telement.visible = isElementVisible.call(this$1, element);\n\t\t});\n\n\t\teach(elements, function (element) {\n\t\t\tif (element.sequence) {\n\t\t\t\tsequence.call(this$1, element);\n\t\t\t} else {\n\t\t\t\tanimate.call(this$1, element);\n\t\t\t}\n\t\t});\n\n\t\tthis$1.pristine = false;\n\t});\n}\n\nfunction isTransformSupported() {\n\tvar style = document.documentElement.style;\n\treturn 'transform' in style || 'WebkitTransform' in style\n}\n\nfunction isTransitionSupported() {\n\tvar style = document.documentElement.style;\n\treturn 'transition' in style || 'WebkitTransition' in style\n}\n\nvar version = \"4.0.7\";\n\nvar boundDelegate;\nvar boundDestroy;\nvar boundReveal;\nvar boundClean;\nvar boundSync;\nvar config;\nvar debug;\nvar instance;\n\nfunction ScrollReveal(options) {\n\tif ( options === void 0 ) options = {};\n\n\tvar invokedWithoutNew =\n\t\ttypeof this === 'undefined' ||\n\t\tObject.getPrototypeOf(this) !== ScrollReveal.prototype;\n\n\tif (invokedWithoutNew) {\n\t\treturn new ScrollReveal(options)\n\t}\n\n\tif (!ScrollReveal.isSupported()) {\n\t\tlogger.call(this, 'Instantiation failed.', 'This browser is not supported.');\n\t\treturn mount.failure()\n\t}\n\n\tvar buffer;\n\ttry {\n\t\tbuffer = config\n\t\t\t? deepAssign({}, config, options)\n\t\t\t: deepAssign({}, defaults, options);\n\t} catch (e) {\n\t\tlogger.call(this, 'Invalid configuration.', e.message);\n\t\treturn mount.failure()\n\t}\n\n\ttry {\n\t\tvar container = $(buffer.container)[0];\n\t\tif (!container) {\n\t\t\tthrow new Error('Invalid container.')\n\t\t}\n\t} catch (e) {\n\t\tlogger.call(this, e.message);\n\t\treturn mount.failure()\n\t}\n\n\tconfig = buffer;\n\n\tif ((!config.mobile && isMobile()) || (!config.desktop && !isMobile())) {\n\t\tlogger.call(\n\t\t\tthis,\n\t\t\t'This device is disabled.',\n\t\t\t(\"desktop: \" + (config.desktop)),\n\t\t\t(\"mobile: \" + (config.mobile))\n\t\t);\n\t\treturn mount.failure()\n\t}\n\n\tmount.success();\n\n\tthis.store = {\n\t\tcontainers: {},\n\t\telements: {},\n\t\thistory: [],\n\t\tsequences: {}\n\t};\n\n\tthis.pristine = true;\n\n\tboundDelegate = boundDelegate || delegate.bind(this);\n\tboundDestroy = boundDestroy || destroy.bind(this);\n\tboundReveal = boundReveal || reveal.bind(this);\n\tboundClean = boundClean || clean.bind(this);\n\tboundSync = boundSync || sync.bind(this);\n\n\tObject.defineProperty(this, 'delegate', { get: function () { return boundDelegate; } });\n\tObject.defineProperty(this, 'destroy', { get: function () { return boundDestroy; } });\n\tObject.defineProperty(this, 'reveal', { get: function () { return boundReveal; } });\n\tObject.defineProperty(this, 'clean', { get: function () { return boundClean; } });\n\tObject.defineProperty(this, 'sync', { get: function () { return boundSync; } });\n\n\tObject.defineProperty(this, 'defaults', { get: function () { return config; } });\n\tObject.defineProperty(this, 'version', { get: function () { return version; } });\n\tObject.defineProperty(this, 'noop', { get: function () { return false; } });\n\n\treturn instance ? instance : (instance = this)\n}\n\nScrollReveal.isSupported = function () { return isTransformSupported() && isTransitionSupported(); };\n\nObject.defineProperty(ScrollReveal, 'debug', {\n\tget: function () { return debug || false; },\n\tset: function (value) { return (debug = typeof value === 'boolean' ? value : debug); }\n});\n\nScrollReveal();\n\nexport default ScrollReveal;\n"]},"metadata":{},"sourceType":"module"}